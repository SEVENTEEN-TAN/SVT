# UAT环境服务器配置
server:
  port: 8080                    # UAT环境服务器端口

# UAT环境数据库配置
spring:
  datasource:
    url: jdbc:sqlserver://123.60.68.66:1433;databaseName=svt-uat;encrypt=true;trustServerCertificate=true  # UAT环境数据库URL
    username: sa                # UAT环境数据库用户名
    password: SM4(uBQb/d1CJViO4PTPpg8nZEwq8Tx789oNdVwTgPWAxrI=)   # UAT环境数据库密码


# UAT环境日志配置
logging:
  config: classpath:config/log4j2-spring.xml
  level:
    root: info                  # 根日志级别
    com.seventeen.svt: info         # 应用日志级别
    org.springframework.web: info  # Spring Web日志级别
    org.springframework.security: info  # Spring Security日志级别
    org.mybatis: info          # MyBatis日志级别
  file:
    name: logs/log.log  # UAT环境日志文件路径

# UAT环境Swagger配置
springdoc:
  swagger-ui:
    enabled: false             # 禁用Swagger UI
  api-docs:
    enabled: false             # 禁用API文档

# UAT环境Knife4j配置
knife4j:
  enable: false                # 禁用Knife4j
  production: true           # 开启生产环境模式

# UAT环境缓存配置
spring.cache:
  type: caffeine              # 使用Caffeine作为本地缓存
  caffeine:
    spec: maximumSize=500,expireAfterWrite=600s  # 缓存配置

# UAT环境SVT配置
svt:
  security:
    aes:
      enabled: true           # UAT环境启用AES加密
      debug: false            # UAT环境启用调试模式,调试模式下返回明文
      key: SM4(xbFF2AEEUPI5my7X+OMqRAsYd/QGK0ef3+0lMx1nEwRpvbxKi65YtxFTD7S4Xa0gcN1J5tm8lPVv3JM6OFhRsg==) # AES API密钥(Base64, 32-byte)
    # UAT环境脱敏配置：启用脱敏功能，模拟生产环境
    sensitive:
      enabled: true           # UAT环境启用脱敏
  # 分布式锁配置
  distributed-lock:
    wait-timeout: 30          # 锁等待超时时间(秒)
    lease-time: 10            # 锁持有时间(秒)
    retry-interval: 1000       # 重试间隔(毫秒)
    max-retry-count: 10      # 最大重试次数
    cleanup-interval: 3600      # 清理间隔(秒)
    enable-force-release: true # 启用强制释放
    server-identifier: ${spring.application.name:svt-server}:${server.port:8080} #服务标识
# UAT环境JWT配置
jwt:
  secret: SM4(LRMr+jf6DuVdpg3GKQk1rFSVcdzyEnnFMdGpobxNP0tCen/aFVinrFYYPzBTQDKK+/Ef2QRmK0s3uTbYcba9Ga1E6CtI1XhZ4qJsXJD/NEk=)
  expiration: 18000 # 5 hours
  issuer: svt-issuer

  # UAT环境智能续期配置
  smart-renewal:
    enabled: true                      # 启用智能续期
    activity-cycle-seconds: 900        # 15分钟活跃度周期
    activity-renewal-threshold: 20     # 20%续期阈值（后3分钟）