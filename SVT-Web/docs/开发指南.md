# SVT-Web å¼€å‘æŒ‡å—

## ğŸš€ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 19 + TypeScript 5.8+ + Vite 6.3+
- **UIç»„ä»¶åº“**: Ant Design 5.25+ + @ant-design/icons
- **çŠ¶æ€ç®¡ç†**: Zustand 5.0+ + TanStack Query 5.80+
- **è·¯ç”±ç®¡ç†**: React Router 7.6+
- **è¡¨å•å¤„ç†**: React Hook Form 7.57+ + Zod 3.25+
- **HTTPå®¢æˆ·ç«¯**: Axios 1.9+
- **åŠ å¯†å¤„ç†**: crypto-js 4.2+ (AESåŠ å¯†)

## ğŸ¯ è®¾è®¡åŸåˆ™

### æ¶æ„è®¾è®¡ç†å¿µ

- **ç±»å‹ä¼˜å…ˆ**: å…¨é¢çš„TypeScriptç±»å‹è¦†ç›–ï¼Œç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥
- **æ¨¡å—åŒ–æ¶æ„**: æ¸…æ™°çš„æ¨¡å—è¾¹ç•Œå’ŒèŒè´£åˆ†ç¦»
- **æ€§èƒ½ä¼˜åŒ–**: ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜ç­–ç•¥
- **å®‰å…¨è®¾è®¡**: å¤šå±‚å®‰å…¨é˜²æŠ¤å’Œæ•°æ®åŠ å¯†
- **å¼€å‘ä½“éªŒ**: å®Œå–„çš„è°ƒè¯•å·¥å…·å’Œå¼€å‘è§„èŒƒ

### åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Pages (é¡µé¢å±‚)                â”‚  â† è·¯ç”±çº§ç»„ä»¶ï¼Œç»„åˆä¸šåŠ¡é€»è¾‘
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Components (ç»„ä»¶å±‚)              â”‚  â† å¯å¤ç”¨UIç»„ä»¶
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Hooks (é’©å­å±‚)                 â”‚  â† ä¸šåŠ¡é€»è¾‘å°è£…
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Stores (çŠ¶æ€å±‚)                 â”‚  â† å…¨å±€çŠ¶æ€ç®¡ç†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            API (æ¥å£å±‚)                  â”‚  â† æ•°æ®è¯·æ±‚å°è£…
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Utils (å·¥å…·å±‚)                 â”‚  â† é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Types (ç±»å‹å±‚)                 â”‚  â† TypeScriptç±»å‹å®šä¹‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒè®¾è®¡åŸåˆ™

1. **å•ä¸€èŒè´£åŸåˆ™**: æ¯ä¸ªç»„ä»¶/æ¨¡å—åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
2. **å¼€é—­åŸåˆ™**: å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­
3. **ä¾èµ–å€’ç½®**: é«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—
4. **ç»„åˆä¼˜äºç»§æ‰¿**: ä½¿ç”¨ç»„åˆæ„å»ºå¤æ‚åŠŸèƒ½
5. **çº¦å®šä¼˜äºé…ç½®**: éµå¾ªç»Ÿä¸€çš„å¼€å‘çº¦å®š

## ğŸ”§ å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–é¡¹ç›®
```bash
# åˆ›å»ºé¡¹ç›®
npm create vite@latest SVT-Web -- --template react-ts

# å®‰è£…æ ¸å¿ƒä¾èµ–
npm install antd@^5.25.4 @ant-design/icons@^5.6.1
npm install zustand@^5.0.5 @tanstack/react-query@^5.80.6 axios@^1.9.0
npm install react-router-dom@^7.6.2 react-hook-form@^7.57.0 zod@^3.25.57
npm install dayjs@^1.11.13 crypto-js@^4.2.0

# å®‰è£…å¼€å‘å·¥å…·
npm install -D @types/node@^24.0.0 @types/crypto-js@^4.2.2
npm install -D eslint@^9.25.0 typescript@~5.8.3 vite@^6.3.5
```

### 2. ç¯å¢ƒé…ç½®
```env
# .env.development
VITE_API_BASE_URL=http://localhost:8080/api
VITE_APP_TITLE=SVTç®¡ç†ç³»ç»Ÿ
VITE_APP_VERSION=1.0.0
```

### 3. é¡¹ç›®ç»“æ„
```
src/
â”œâ”€â”€ api/              # APIæ¥å£å±‚
â”œâ”€â”€ components/       # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ Common/       # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ DynamicPage/  # åŠ¨æ€é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Layout/       # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ Loading/      # åŠ è½½çŠ¶æ€ç»„ä»¶
â”œâ”€â”€ config/           # é…ç½®æ–‡ä»¶
â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰Hooks
â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ types/            # ç±»å‹å®šä¹‰
â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
```

## ğŸ“‹ å¼€å‘æ­¥éª¤

### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„ (2-3å¤©)
- [x] é…ç½®Viteæ„å»ºå·¥å…·å’Œä»£ç†
- [x] å°è£…HTTPè¯·æ±‚å®¢æˆ·ç«¯
- [x] é…ç½®ZustandçŠ¶æ€ç®¡ç†
- [x] è®¾ç½®Ant Designä¸»é¢˜

### é˜¶æ®µäºŒï¼šè®¤è¯ç³»ç»Ÿ (3-4å¤©)
- [x] ç™»å½•é¡µé¢ç»„ä»¶
- [x] ç™»å½•åæœºæ„è§’è‰²é€‰æ‹©å¼¹çª— (é›†æˆåˆ°ç™»å½•é¡µé¢)
- [x] JWT Tokenç®¡ç†
- [x] AESå¯†ç åŠ å¯†
- [x] è·¯ç”±å®ˆå«æœºåˆ¶

### é˜¶æ®µä¸‰ï¼šä¸»å¸ƒå±€ (2-3å¤©)
- [x] ä¸»å¸ƒå±€ç»„ä»¶
- [x] é¡¶éƒ¨å¯¼èˆªæ 
- [x] ä¾§è¾¹èœå•ç³»ç»Ÿ
- [x] é¢åŒ…å±‘å¯¼èˆª
- [x] Tabå¯¼èˆªç³»ç»Ÿ

### é˜¶æ®µå››ï¼šé…ç½®åŒ–ç³»ç»Ÿ (æ ¸å¿ƒ)
- [ ] Schemaè§£æå™¨
- [ ] åŠ¨æ€è¡¨å•æ¸²æŸ“å™¨
- [ ] åŠ¨æ€è¡¨æ ¼æ¸²æŸ“å™¨
- [ ] æ•°æ®æºç®¡ç†å™¨

## ğŸ¯ é…ç½®åŒ–é¡µé¢ç³»ç»Ÿ

### æ ¸å¿ƒè®¾è®¡ç†å¿µ
é€šè¿‡JSON Schemaé…ç½®é©±åŠ¨é¡µé¢ç”Ÿæˆï¼Œå‡å°‘é‡å¤å¼€å‘å·¥ä½œã€‚

### ç³»ç»Ÿæ¶æ„
```
JSON Schema â†’ è§£æå™¨ â†’ åŠ¨æ€æ¸²æŸ“å™¨ â†’ é¡µé¢å±•ç¤º
```

### æ”¯æŒçš„é¡µé¢ç±»å‹
- **Infoé¡µé¢**: è¡¨å•ä¿¡æ¯å½•å…¥å’Œç¼–è¾‘
- **Listé¡µé¢**: æ•°æ®åˆ—è¡¨å±•ç¤ºå’Œæ“ä½œ
- **Dashboard**: ä»ªè¡¨æ¿é¡µé¢ (åæœŸæ‰©å±•)

## ğŸ”§ æ ¸å¿ƒæŠ€æœ¯æ–¹æ¡ˆ

### 1. åŠ¨æ€æ•°æ®æºç®¡ç†

```typescript
// DataSourceManager - æ™ºèƒ½æ•°æ®æºç®¡ç†
interface DataSourceConfig {
  type: 'api' | 'static';
  url?: string;
  method?: 'GET' | 'POST';
  responseMapping?: {
    labelField: string;
    valueField: string;
    dataPath?: string;
  };
  cache?: {
    enabled: boolean;
    duration: number;
  };
  dependencies?: {
    watch: string[];
    url?: string;
  };
}
```

### 2. æ™ºèƒ½å­—æ®µè”åŠ¨

```json
{
  "key": "departmentId",
  "label": "éƒ¨é—¨",
  "type": "select",
  "dataSource": {
    "type": "api",
    "url": "/api/departments/options",
    "dependencies": {
      "watch": ["companyId"],
      "url": "/api/departments/options?companyId={companyId}"
    }
  }
}
```

### 3. æ•°æ®ç»‘å®šæœºåˆ¶

```typescript
// useSchemaPage - ç»Ÿä¸€æ•°æ®ç®¡ç†Hook
export const useSchemaPage = ({ schemaPath, id, mode }) => {
  // è‡ªåŠ¨åŠ è½½Schemaé…ç½®
  // è‡ªåŠ¨å¤„ç†æ•°æ®ç»‘å®š
  // è‡ªåŠ¨å¤„ç†ä¾èµ–æ›´æ–°
  // è‡ªåŠ¨å¤„ç†ä¿å­˜é€»è¾‘
};
```

### 4. ä½¿ç”¨ç¤ºä¾‹

```typescript
// é¡µé¢ç»„ä»¶åªéœ€ä¸€è¡Œä»£ç 
export const UserInfoPage = () => {
  const { id } = useParams();
  return <DynamicForm schemaPath="users/UserInfo" id={id} />;
};
```

## ğŸ¨ æ”¯æŒçš„ç»„ä»¶ç±»å‹

### åŸºç¡€ç»„ä»¶
- `input` - æ–‡æœ¬è¾“å…¥æ¡†
- `textarea` - å¤šè¡Œæ–‡æœ¬  
- `number` - æ•°å­—è¾“å…¥
- `select` - ä¸‹æ‹‰é€‰æ‹©
- `datePicker` - æ—¥æœŸé€‰æ‹©
- `upload` - æ–‡ä»¶ä¸Šä¼ 

### é«˜çº§ç»„ä»¶
- `cascader` - çº§è”é€‰æ‹©
- `treeSelect` - æ ‘å½¢é€‰æ‹©
- `dateRange` - æ—¥æœŸèŒƒå›´
- `editor` - å¯Œæ–‡æœ¬ç¼–è¾‘å™¨

### æ‰©å±•ç»„ä»¶
- `custom` - è‡ªå®šä¹‰ç»„ä»¶
- æ”¯æŒç»„ä»¶æ³¨å†Œæœºåˆ¶

## ğŸ“ å¼€å‘è§„èŒƒ

### 1. ä»£ç è§„èŒƒ
```typescript
// ç»„ä»¶å¼€å‘è§„èŒƒ
interface ComponentProps {
  // æ˜ç¡®çš„å±æ€§ç±»å‹å®šä¹‰
}

const Component: React.FC<ComponentProps> = ({ ...props }) => {
  // Hooksåœ¨é¡¶éƒ¨
  // äº‹ä»¶å¤„ç†å‡½æ•°
  // æ¸²æŸ“é€»è¾‘
  
  return (
    // JSX
  );
};

export default Component;
```

### 2. Schemaé…ç½®è§„èŒƒ
- ä½¿ç”¨æœ‰æ„ä¹‰çš„keyå€¼
- å¿…å¡«å­—æ®µæ ‡æ˜required
- å¤æ‚é€»è¾‘ä¼˜å…ˆè€ƒè™‘ä¾èµ–å…³ç³»
- åˆç†ä½¿ç”¨ç¼“å­˜æœºåˆ¶

### 3. æ€§èƒ½ä¼˜åŒ–
- åˆç†ä½¿ç”¨React.memo
- é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
- å¤§æ•°æ®é‡ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- åˆç†é…ç½®æ•°æ®æºç¼“å­˜

## ğŸ” è°ƒè¯•æŒ‡å—

### 1. å¸¸è§é—®é¢˜
- **è·¨åŸŸé—®é¢˜**: é…ç½®Vite proxy
- **æ•°æ®ä¸æ›´æ–°**: æ£€æŸ¥ä¾èµ–é…ç½®
- **ç»„ä»¶ä¸æ˜¾ç¤º**: éªŒè¯Schemaé…ç½®
- **æ€§èƒ½é—®é¢˜**: æ£€æŸ¥ç¼“å­˜ç­–ç•¥

### 2. å¼€å‘å·¥å…·
- React DevTools - ç»„ä»¶è°ƒè¯•
- Networké¢æ¿ - APIè°ƒè¯•
- Console - SchemaéªŒè¯

### 3. å®‰å…¨è°ƒè¯• âš ï¸
**é‡è¦**: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰å¿…é¡»æ¸…ç†æ‰€æœ‰è°ƒè¯•ä¿¡æ¯

#### DebugManager è°ƒè¯•ç®¡ç†å™¨
SVTé¡¹ç›®ä½¿ç”¨ç»Ÿä¸€çš„ `DebugManager` è¿›è¡Œè°ƒè¯•ä¿¡æ¯ç®¡ç†ï¼Œç¡®ä¿å¼€å‘ä¾¿åˆ©æ€§å’Œç”Ÿäº§å®‰å…¨æ€§ã€‚

**è¯¦ç»†æ–‡æ¡£**: [DebugManager ä½¿ç”¨æŒ‡å—](./Debug-Manager-Guide.md)

#### åŸºæœ¬ä½¿ç”¨æ–¹æ³•
```typescript
import { DebugManager } from '@/utils/debugManager';

// æ™®é€šè°ƒè¯•ä¿¡æ¯ï¼ˆå¼€å‘ç¯å¢ƒå¯è§ï¼‰
DebugManager.log('ç»„ä»¶æ¸²æŸ“', { componentName: 'UserCard' }, {
  component: 'UserCard',
  action: 'render'
});

// æ•æ„Ÿè°ƒè¯•ä¿¡æ¯ï¼ˆéœ€è¦ç‰¹æ®Šç¯å¢ƒå˜é‡å¯ç”¨ï¼‰
DebugManager.logSensitive('ç”¨æˆ·è¯¦æƒ…', userDetails, {
  component: 'authStore',
  action: 'getUserDetails'
});

// é”™è¯¯ä¿¡æ¯ï¼ˆè‡ªåŠ¨è„±æ•ï¼‰
DebugManager.error('APIè°ƒç”¨å¤±è´¥', error, {
  component: 'request',
  action: 'apiCall'
});

// ç”Ÿäº§ç¯å¢ƒå…³é”®æ“ä½œ
DebugManager.production('ç”¨æˆ·ç™»å½•æˆåŠŸ', {
  component: 'auth',
  action: 'login'
});
```

#### ç¯å¢ƒå˜é‡é…ç½®
```env
# .env.development
VITE_DEBUG_SENSITIVE=true          # å¯ç”¨æ•æ„Ÿè°ƒè¯•ä¿¡æ¯

# .env.production
VITE_DEBUG_SENSITIVE=false         # ç”Ÿäº§ç¯å¢ƒç¦ç”¨æ•æ„Ÿè°ƒè¯•
VITE_PRODUCTION_LOGGING=true       # ç”Ÿäº§ç¯å¢ƒå¯ç”¨å…³é”®æ—¥å¿—
```

#### ç¦æ­¢çš„è°ƒè¯•æ¨¡å¼
```typescript
// âŒ ç¦æ­¢ï¼šç›´æ¥ä½¿ç”¨console.logè¾“å‡ºæ•æ„Ÿä¿¡æ¯
console.log('ç”¨æˆ·çŠ¶æ€éªŒè¯æˆåŠŸ:', userStatus);
console.log('AESé…ç½®çŠ¶æ€:', cryptoConfig.getSummary());

// âŒ ç¦æ­¢ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒæš´éœ²å¼€å‘å·¥å…·
window.__SVT_DEBUG__ = { authStore, cryptoUtils };

// âŒ ç¦æ­¢ï¼šæ•æ„Ÿä¿¡æ¯ä½¿ç”¨æ™®é€šlogæ–¹æ³•
DebugManager.log('ç”¨æˆ·å¯†ç ', password); // åº”è¯¥ä½¿ç”¨ logSensitive
```

#### è¿ç§»ç°æœ‰ä»£ç 
```typescript
// æ—§ä»£ç  â†’ æ–°ä»£ç 
console.log('æ“ä½œå®Œæˆ') â†’ DebugManager.log('æ“ä½œå®Œæˆ')
console.warn('è­¦å‘Šä¿¡æ¯') â†’ DebugManager.warn('è­¦å‘Šä¿¡æ¯')
console.error('é”™è¯¯ä¿¡æ¯') â†’ DebugManager.error('é”™è¯¯ä¿¡æ¯')

// æ•æ„Ÿä¿¡æ¯ç‰¹æ®Šå¤„ç†
console.log('ç”¨æˆ·ä¿¡æ¯:', user) â†’ DebugManager.logSensitive('ç”¨æˆ·ä¿¡æ¯', user)
```

## ğŸŒ APIè°ƒç”¨æŒ‡å— â­

### 1. åŸºç¡€ç”¨æ³•
**2025-06-29 é‡æ„**: ä½¿ç”¨æ³›å‹å·¥å‚æ¨¡å¼æ¶ˆé™¤40%+é‡å¤ä»£ç 

```typescript
// ä½¿ç”¨ä¼˜åŒ–åçš„APIæ–¹æ³•ï¼ˆå®Œå…¨å‘åå…¼å®¹ï¼‰
import { api } from '@/utils/request';

// GETè¯·æ±‚
const users = await api.get<User[]>('/users');

// POSTè¯·æ±‚
const newUser = await api.post<User>('/users', userData);

// PUT/DELETEè¯·æ±‚
const updatedUser = await api.put<User>('/users/123', updateData);
await api.delete('/users/123');

// æ–‡ä»¶ä¸Šä¼ 
const formData = new FormData();
formData.append('file', file);
const result = await api.upload<UploadResult>('/upload', formData);
```

### 2. ä¸šåŠ¡APIæœåŠ¡ï¼ˆæ¨èï¼‰
```typescript
// æ¨èï¼šåˆ›å»ºä¸šåŠ¡APIæœåŠ¡ç±»
class UserApiService {
  private prefix = '/api/users';

  async getUsers(params: GetUsersParams): Promise<UserListResponse> {
    return api.get<UserListResponse>(this.prefix, { params });
  }

  async getUserById(id: string): Promise<User> {
    return api.get<User>(`${this.prefix}/${id}`);
  }

  async createUser(userData: CreateUserRequest): Promise<User> {
    return api.post<User>(this.prefix, userData);
  }

  async updateUser(id: string, userData: UpdateUserRequest): Promise<User> {
    return api.put<User>(`${this.prefix}/${id}`, userData);
  }

  async deleteUser(id: string): Promise<void> {
    return api.delete<void>(`${this.prefix}/${id}`);
  }
}

// å¯¼å‡ºå•ä¾‹å®ä¾‹
export const userApi = new UserApiService();
```

### 4. é‡æ„ä¼˜åŠ¿
- ğŸ”§ **ä»£ç é‡å¤ç‡é™ä½**: 40%+ â†’ 5%
- ğŸ“Š **æ€§èƒ½ç›‘æ§**: è‡ªåŠ¨è®°å½•APIè°ƒç”¨æ—¶é—´
- ğŸ›¡ï¸ **ç»Ÿä¸€é”™è¯¯å¤„ç†**: é›†æˆDebugManager
- ğŸ¯ **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptæ”¯æŒ
- ğŸ“ **è¯¦ç»†æ–‡æ¡£**: [APIé‡æ„æŒ‡å—](./API-Refactoring-Guide.md)

### 5. è¿ç§»æŒ‡å—
```typescript
// ç°æœ‰ä»£ç ç»§ç»­å·¥ä½œï¼Œæ— éœ€ä¿®æ”¹
import { api } from '@/utils/request';
const data = await api.get('/endpoint');
```

## ğŸª çŠ¶æ€ç®¡ç†æŒ‡å— â­

### 1. ç»Ÿä¸€è®¤è¯Hook
**2025-06-29 é‡æ„**: èŒè´£åˆ†ç¦»ï¼Œå°†AuthStoreæ‹†åˆ†ä¸º3ä¸ªç‹¬ç«‹Store

```typescript
// æ¨èï¼šä½¿ç”¨ç»Ÿä¸€è®¤è¯Hook
import { useAuth } from '@/stores/useAuth';

const MyComponent = () => {
  const { isAuthenticated, currentUser, login, logout } = useAuth();

  return <div>{isAuthenticated ? `æ¬¢è¿, ${currentUser?.username}` : 'è¯·ç™»å½•'}</div>;
};
```

### 2. åˆ†ç¦»Storeä½¿ç”¨
```typescript
// é«˜çº§ç”¨æ³•ï¼šç›´æ¥ä½¿ç”¨åˆ†ç¦»çš„Store
import { useAuth } from '@/stores/useAuth';

const AdvancedComponent = () => {
  const { auth, user, session } = useAuth();

  // ç²¾ç¡®æ§åˆ¶å„ä¸ªStore
  const handleLogin = async () => {
    await auth.login(credentials);
    await user.refreshUserInfo();
    session.setLoginStep('completed');
  };

  return (
    <div>
      <div>è®¤è¯çŠ¶æ€: {auth.isAuthenticated}</div>
      <div>ç”¨æˆ·ä¿¡æ¯: {user.user?.username}</div>
      <div>ä¼šè¯çŠ¶æ€: {session.loginStep}</div>
    </div>
  );
};
```

### 3. å•ç‹¬ä½¿ç”¨Store
```typescript
// åªéœ€è¦è®¤è¯åŠŸèƒ½
import { useAuthStore } from '@/stores/authStore';

const LoginComponent = () => {
  const { login, logout, isAuthenticated } = useAuthStore();
  // åªå¤„ç†è®¤è¯é€»è¾‘
};

// åªéœ€è¦ç”¨æˆ·ä¿¡æ¯
import { useUserStore } from '@/stores/userStore';

const UserProfileComponent = () => {
  const { user, updateUser } = useUserStore();
  // åªå¤„ç†ç”¨æˆ·ä¿¡æ¯
};
```

### 4. é‡æ„ä¼˜åŠ¿
- ğŸ—ï¸ **èŒè´£åˆ†ç¦»**: AuthStoreæ‹†åˆ†ä¸ºè®¤è¯ã€ç”¨æˆ·ã€ä¼šè¯3ä¸ªStore
- ğŸ“Š **ä»£ç ç®€åŒ–**: å•Storeå¤æ‚åº¦é™ä½70%
- ğŸ§ª **ç‹¬ç«‹æµ‹è¯•**: æ¯ä¸ªStoreå¯ä»¥ç‹¬ç«‹æµ‹è¯•
- ğŸš€ **æ¿€è¿›é‡æ„**: ç›´æ¥æ›¿æ¢åŸStoreï¼Œæ¶æ„æ›´æ¸…æ™°
- ğŸ“ **è¯¦ç»†æ–‡æ¡£**: [çŠ¶æ€ç®¡ç†é‡æ„æŒ‡å—](./State-Management-Refactoring.md)

## ğŸ” å­˜å‚¨ç®¡ç†æœ€ä½³å®è·µ

### ç»Ÿä¸€åŠ å¯†å­˜å‚¨æ¶æ„

SVT ä½¿ç”¨ç»Ÿä¸€çš„åŠ å¯†å­˜å‚¨ç³»ç»Ÿï¼Œæ”¯æŒæ˜æ–‡å’ŒåŠ å¯†ä¸¤ç§æ¨¡å¼ï¼š

```typescript
// 1. ä½¿ç”¨ç»Ÿä¸€çš„å­˜å‚¨é€‚é…å™¨
import { createEncryptedStorage } from '@/utils/encryptedStorage';

// 2. åœ¨ Zustand Store ä¸­é…ç½®
export const useAuthStore = create<AuthState>()(
  persist(
    (set, get) => ({
      // Store é€»è¾‘
    }),
    {
      name: 'auth-storage',
      storage: createEncryptedStorage(), // ç»Ÿä¸€å­˜å‚¨é€‚é…å™¨
      partialize: (state) => ({
        token: state.token,
        isAuthenticated: state.isAuthenticated,
      }),
    }
  )
);
```

### ç¯å¢ƒé…ç½®

```env
# .env.development
VITE_AES_KEY=your_32_byte_base64_key_here_1234567890123456
VITE_AES_ENABLED=true  # å¯ç”¨åŠ å¯†
VITE_DEBUG_MODE=true   # å¼€å‘ç¯å¢ƒè°ƒè¯•
```

### å­˜å‚¨æ•°æ®æ ¼å¼

#### æ˜æ–‡æ¨¡å¼
```json
{
  "auth-storage": "{\"state\":{\"token\":\"jwt-token\"},\"version\":0}",
  "user-storage": "{\"state\":{\"user\":{...}},\"version\":0}"
}
```

#### åŠ å¯†æ¨¡å¼
```json
{
  "auth-storage": "{\"encrypted\":true,\"data\":\"base64-data\",\"iv\":\"random-iv\"}",
  "user-storage": "{\"encrypted\":true,\"data\":\"base64-data\",\"iv\":\"random-iv\"}"
}
```

### å¼€å‘è°ƒè¯•å·¥å…·

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ä½¿ç”¨è°ƒè¯•å‘½ä»¤ï¼š

```javascript
// æ¸…ç†æ‰€æœ‰å­˜å‚¨
clearAllStorage()

// æµ‹è¯•åŸºç¡€å­˜å‚¨åŠŸèƒ½
testStorage()

// æµ‹è¯• Zustand Store å­˜å‚¨
testZustandStorage()

// æŸ¥çœ‹å½“å‰å­˜å‚¨çŠ¶æ€
Object.keys(localStorage).filter(key => 
  key.includes('auth') || key.includes('user')
)
```

### å¸¸è§é—®é¢˜è§£å†³

1. **å­˜å‚¨æ˜¾ç¤º `[object Object]`**
   ```javascript
   // æ¸…ç†æŸåæ•°æ®å¹¶åˆ·æ–°
   clearAllStorage()
   location.reload()
   ```

2. **åŠ å¯†å¤±è´¥**
   ```javascript
   // æ£€æŸ¥å¯†é’¥é…ç½®
   console.log('AES Key:', !!import.meta.env.VITE_AES_KEY)
   ```

3. **æ•°æ®è¿ç§»å¤±è´¥**
   ```javascript
   // å¼ºåˆ¶é‡æ–°è¿ç§»
   localStorage.removeItem('svt_storage_migrated_v2')
   location.reload()
   ```

### æœ€ä½³å®è·µ

- âœ… æ•æ„Ÿæ•°æ®å§‹ç»ˆä½¿ç”¨åŠ å¯†å­˜å‚¨
- âœ… éæ•æ„Ÿæ•°æ®å¯ä»¥ä½¿ç”¨æ˜æ–‡æ¨¡å¼æé«˜æ€§èƒ½
- âœ… å®šæœŸæ¸…ç†è¿‡æœŸçš„å­˜å‚¨æ•°æ®
- âœ… ä½¿ç”¨è°ƒè¯•å·¥å…·éªŒè¯å­˜å‚¨åŠŸèƒ½
- âœ… åœ¨ç”Ÿäº§ç¯å¢ƒç¦ç”¨è°ƒè¯•æ¨¡å¼

è¯¦ç»†æ–‡æ¡£ï¼š[å­˜å‚¨ç®¡ç†æŒ‡å—](./Storage-Management.md)

## ğŸ› è°ƒè¯•ç®¡ç†

### DebugManager ä½¿ç”¨

SVTæä¾›ç»Ÿä¸€çš„è°ƒè¯•ä¿¡æ¯ç®¡ç†å·¥å…·ï¼Œæ”¯æŒåˆ†çº§è°ƒè¯•å’Œç¯å¢ƒéš”ç¦»ï¼š

```typescript
import { DebugManager } from '@/utils/debugManager';

// åŸºç¡€è°ƒè¯•ä¿¡æ¯
DebugManager.log('Component', 'ç»„ä»¶å·²æŒ‚è½½', { props });

// é”™è¯¯ä¿¡æ¯
DebugManager.error('API', 'è¯·æ±‚å¤±è´¥', error);

// æ€§èƒ½ç›‘æ§
DebugManager.performance('API Call', startTime, endTime);

// æ•æ„Ÿä¿¡æ¯ï¼ˆä»…å¼€å‘ç¯å¢ƒï¼‰
DebugManager.sensitive('Auth', 'Tokenä¿¡æ¯', tokenData);
```

### æ—¥å¿—çº§åˆ«

- **DEBUG**: è¯¦ç»†è°ƒè¯•ä¿¡æ¯ï¼Œä»…å¼€å‘ç¯å¢ƒ
- **INFO**: ä¸€èˆ¬ä¿¡æ¯ï¼Œå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒ
- **WARN**: è­¦å‘Šä¿¡æ¯ï¼Œéœ€è¦å…³æ³¨
- **ERROR**: é”™è¯¯ä¿¡æ¯ï¼Œéœ€è¦å¤„ç†

### ç¯å¢ƒé…ç½®

```bash
# å¼€å‘ç¯å¢ƒ - æ˜¾ç¤ºæ‰€æœ‰è°ƒè¯•ä¿¡æ¯
VITE_DEBUG_MODE=true
VITE_DEBUG_SENSITIVE=true

# ç”Ÿäº§ç¯å¢ƒ - åªæ˜¾ç¤ºå…³é”®ä¿¡æ¯
VITE_DEBUG_MODE=false
VITE_PRODUCTION_LOGGING=false
```

### è°ƒè¯•å·¥å…·

æµè§ˆå™¨æ§åˆ¶å°å¯ç”¨çš„è°ƒè¯•æ–¹æ³•ï¼š
- `debugLocalStorage()` - æŸ¥çœ‹å­˜å‚¨çŠ¶æ€
- `testStorage()` - æµ‹è¯•å­˜å‚¨åŠŸèƒ½
- `clearAllStorage()` - æ¸…ç†æ‰€æœ‰å­˜å‚¨

## ğŸš¦ éƒ¨ç½²é…ç½®

### å¼€å‘ç¯å¢ƒ
```bash
npm run dev     # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```

### ç”Ÿäº§ç¯å¢ƒ  
```bash
npm run build   # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run preview # é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
```

## ğŸ“ˆ åç»­æ‰©å±•

### çŸ­æœŸç›®æ ‡
- å®Œå–„è¡¨æ ¼é«˜çº§åŠŸèƒ½ (è™šæ‹Ÿæ»šåŠ¨ã€å¯ç¼–è¾‘ç­‰)
- æ”¯æŒæ›´å¤šç»„ä»¶ç±»å‹
- ä¼˜åŒ–æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ

### é•¿æœŸç›®æ ‡
- Dashboardé¡µé¢æ”¯æŒ
- æŠ¥è¡¨é¡µé¢æ”¯æŒ  
- å¯è§†åŒ–Schemaé…ç½®å·¥å…·
- æ’ä»¶å’Œä¸»é¢˜ç³»ç»Ÿ

---

**è¯´æ˜**: æœ¬æŒ‡å—æ¶µç›–äº†SVT-Webå‰ç«¯çš„æ ¸å¿ƒå¼€å‘å†…å®¹ï¼Œåç»­æ ¹æ®å®é™…å¼€å‘æƒ…å†µæŒç»­æ›´æ–°ã€‚ 